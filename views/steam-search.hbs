<div id="output" class="bg-gray-900">
    <div class="p-2 mb-2">
        <h1 class="text-2xl text-center text-white">Suggested games that {{query}} friends have been playing</h1>
    </div>
    <div class="games-container flex flex-col gap-6 bg-gray-900">
        {{#each results}}
        <div class="game-and-deals-container">
            <div class="game-card flex bg-gray-800 text-white rounded shadow-lg relative p-6 w-4/5 mx-auto">
                <div class="flex flex-col w-1/3">
                    <img class="w-full h-48 object-cover rounded" src="{{this.thumb}}" alt="{{this.title}} Thumbnail">
                </div>
                
                <div class="flex flex-col items-center justify-center w-1/4">
                    <h2 class="text-3xl mb-2">{{this.title}}</h2>
                    <p>Retail Price: ${{this.retailPrice}} USD</p>
                    <button class="info-button mb-4 bg-gray-900 text-white rounded py-2 px-4 transition duration-300 ease-in-out hover:bg-gray-700 active:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500" data-game-id="{{this.title}}">Game Info</button>
                </div>
                
                <div class="first-deal flex flex-col items-center justify-center w-1/3">
                    <h2 class="text-xl mb-2">Best Deal</h2>
                    {{#with (lookup this.deals 0)}}
                    <div class="flex items-center mb-4">
                        <img class="mr-4" src="https://www.cheapshark.com{{this.storeLogo}}" alt="{{this.storeName}} Logo">
                        <div>
                            <p>Store: {{this.storeName}}</p>
                            <p>Deal Price: ${{this.currentPrice}} USD</p>
                        </div>
                    </div>
                    {{/with}}
                </div>

                <div class="first-deal flex flex-col items-center justify-center w-1/7">
                    <button class="expand-button mb-4 bg-gray-900 text-white rounded py-2 px-4 transition duration-300 ease-in-out hover:bg-gray-700 active:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500" onclick="showDeals(this)">See Deals</button>
                </div>

            </div>
            
            <div class="deals-container hidden overflow-hidden flex flex-col items-center mt-4 p-2 bg-gray-900">
                {{#each this.deals}}
                {{#unless @first}}
                <div class="deal-card flex items-center border border-gray-300 p-2 mb-2 rounded text-white w-1/2 bg-gray-700 mx-auto">
                    <div class="flex items-center justify-center w-1/2 p-2 mx-auto">
                        <img class="mr-4" src="https://www.cheapshark.com{{this.storeLogo}}" alt="{{this.storeName}} Logo" style="width: auto; height: auto;">
                    </div>
                    <div class="flex items-center w-1/2 mx-auto">
                        <div class="flex-1 text-center">
                            <p class="text-lg font-semibold mb-2">{{this.storeName}}</p>
                            <p>Current Price: ${{this.currentPrice}} USD</p>
                        </div>
                    </div>
                </div>
                {{/unless}}
                {{/each}}
            </div>

        </div>
        {{/each}}
    </div>
</div>
